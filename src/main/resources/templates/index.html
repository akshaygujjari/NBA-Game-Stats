<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Welcome To Sports Watch</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-xlarge.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
	</head>
	<body class="landing">


        <script>
			// This is called with the results from from FB.getLoginStatus().
			function statusChangeCallback(response) {
			  console.log('statusChangeCallback');
			  console.log(response);
			  // The response object is returned with a status field that lets the
			  // app know the current login status of the person.
			  // Full docs on the response object can be found in the documentation
			  // for FB.getLoginStatus().
			  if (response.status === 'connected') {
				// Logged into your app and Facebook.
				testAPI();
			  } else {
				// The person is not logged into your app or we are unable to tell.
				document.getElementById('status').innerHTML = 'Please log ' +
				  'into this app.';
			  }
			}
		  
			// This function is called when someone finishes with the Login
			// Button.  See the onlogin handler attached to it in the sample
			// code below.
			function checkLoginState() {
			  FB.getLoginStatus(function(response) {
				statusChangeCallback(response);
			  });
			}
		  
			window.fbAsyncInit = function() {
			  FB.init({
				appId      : '598174163933979',
				cookie     : true,  // enable cookies to allow the server to access 
									// the session
				xfbml      : true,  // parse social plugins on this page
				version    : 'v2.8' // use graph api version 2.8
			  });
		  
		  
			  FB.getLoginStatus(function(response) {
				statusChangeCallback(response);
			  });
		  
			};
		  
			// Load the SDK asynchronously
			(function(d, s, id) {
			  var js, fjs = d.getElementsByTagName(s)[0];
			  if (d.getElementById(id)) return;
			  js = d.createElement(s); js.id = id;
			  js.src = "https://connect.facebook.net/en_US/sdk.js";
			  fjs.parentNode.insertBefore(js, fjs);
			}(document, 'script', 'facebook-jssdk'));
		  
			// Here we run a very simple test of the Graph API after login is
			// successful.  See statusChangeCallback() for when this call is made.
			function testAPI() {
			  console.log('Welcome!  Fetching your information.... ');
			  FB.api('/me', function(response) {
				console.log('Successful login for: ' + response.name);
			  // document.getElementById('status').innerHTML =
				 // 'Thanks for logging in, ' + response.name + '!';
				 

		         $("#userId").val(response.id);
		  		 $("#userName").val(response.name);
				 $("#loginForm").submit();
		    });
			}
			
			</script>
		  



		<!-- Banner -->
			<section id="banner">
				<h2>Welcome To Sports Watch</h2>
                <div class="fb-login-button" data-max-rows="1" onlogin="checkLoginState()" data-size="large" data-button-type="continue_with" data-show-faces="false" 
                     data-auto-logout-link="true" data-use-continue-as="false"></div>
                     
                     
                     <form th:action="@{~/mainpage}" method="POST" id="loginForm">
                         <input type="hidden" name="userId" id="userId" />
                         <input type="hidden" name="userName" id="userName" />

                    </form>
                     <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v3.2&appId=589604911459803&autoLogAppEvents=1';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
                     
                     
			</section>

	</body>
</html>